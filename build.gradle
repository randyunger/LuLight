/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'randy' at '10/5/16 1:16 PM' with Gradle 3.1
 *
 * This generated file contains a sample Scala library project to get you started.
 * For more details take a look at the Scala plugin chapter in the Gradle
 * user guide available at https://docs.gradle.org/3.1/userguide/scala_plugin.html
 */


plugins {
    id 'com.github.johnrengelman.shadow' version '1.2.3'
    id 'aws.util.lambda' version '0.2.1'
}

// Apply the scala plugin to add support for Scala
apply plugin: 'scala'
apply plugin: 'war'
apply plugin: 'com.github.johnrengelman.shadow'
apply plugin: 'aws.util.lambda'

//This si gonna bite me when something matches this gets included
shadowJar {
    exclude '**/scalatra/**'
    exclude '**/scalate/**'
    exclude '**/h2/**'
    exclude '**/org.neo4j/**'
    exclude '**/neo4j/**'
////    exclude 'scala-library*'
    exclude '**/slick/**'
    exclude '**/akka/**'
    exclude '**/lucene/**'
    exclude '**/scala-compiler/**'
//    exclude 'scala-reflect*'
//    include '**/paho/**'
}

// In this section you declare where to find the dependencies of your project
repositories {
    // Use 'jcenter' for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.

    mavenCentral()

    jcenter()

    maven {
        name "typesafe-maven-release"
        url "https://repo.typesafe.com/typesafe/maven-releases"
    }
    ivy {
        name "typesafe-ivy-release"
        url "https://repo.typesafe.com/typesafe/ivy-releases"
        layout "ivy"
    }

    maven {
        name "scalaz bintray"
        url "http://dl.bintray.com/scalaz/releases"
    }

//    maven {
//        name "anorm cypher repo"
//        url "http://repo.anormcypher.org/"
//    }

}

// In this section you declare the dependencies for your production and test code
dependencies {
    // We use Scala 2.11 in our library project
    compile 'org.scala-lang:scala-library:2.11.8'
    compile 'org.scala-lang.modules:scala-xml_2.11:1.0.5'

    compile 'org.scala-lang:scala-library:2.11.8'
    compile 'org.scala-lang:scala-reflect:2.11.8'
    compile 'org.scala-lang:scala-compiler:2.11.8'
    compile 'org.scalatra:scalatra_2.11:2.4.0-RC2-2'
    compile 'org.scalatra:scalatra-scalate_2.11:2.4.0-RC2-2'
    compile 'org.eclipse.jetty:jetty-util:9.3.5.v20151012'
    compile 'org.eclipse.jetty:jetty-webapp:9.3.5.v20151012'
    compile 'org.eclipse.jetty:jetty-server:9.3.5.v20151012'
    compile 'org.eclipse.jetty:jetty-servlet:9.3.5.v20151012'
//    compile 'io.reactivex:rxscala:0.26.0'
    compile 'ch.qos.logback:logback-classic:1.1.2'
    compile 'commons-net:commons-net:2.0'
    compile 'com.typesafe.akka:akka-actor_2.11:2.4.2'
    compile 'org.scala-lang.modules:scala-xml_2.11:1.0.3'
    compile 'com.typesafe.play:play-json_2.11:2.5.0-M1'
    compile 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.0.2'
    compile 'com.amazonaws:aws-lambda-java-core:1.1.0'
    compile 'com.amazonaws:aws-lambda-java-log4j:1.0.0'
    // compile '//        com.fasterxml.jackson.module:jackson-module-scala_2.11:2.8.2'
    compile 'com.typesafe.slick:slick_2.11:3.1.1'
    compile 'com.typesafe.slick:slick-hikaricp_2.11:3.1.1'
    compile 'com.h2database:h2:1.4.191'
    compile 'org.postgresql:postgresql:9.4.1211'
//    compile 'org.anormcypher:anormcypher_2.11:0.9.1'
    compile 'org.neo4j.driver:neo4j-java-driver:1.0.5'
    compile 'org.neo4j:neo4j:3.0.6'

    //Provided by app container
    providedCompile 'javax.servlet:javax.servlet-api:3.1.0'

    // We use Scalatest for testing our library
    testCompile 'junit:junit:4.12'
//    testCompile 'org.scalatest:scalatest_2.11:3.0.0'
    testCompile 'com.typesafe.akka:akka-testkit_2.11:2.4.2'
    testCompile 'org.scalatra:scalatra-specs2_2.11:2.4.0-RC2-2'
    testCompile 'org.scalatest:scalatest_2.11:2.2.6'
}
